# ç¿»è¯‘ç³»ç»Ÿæœ€ä½³å®è·µæŒ‡å—

## ğŸ¯ é¿å…ç¿»è¯‘é—®é¢˜çš„æ ¸å¿ƒåŸåˆ™

### 1. **ç»Ÿä¸€ä½¿ç”¨å®‰å…¨ç¿»è¯‘Hook**
```typescript
// âœ… æ¨èï¼šä½¿ç”¨å®‰å…¨ç¿»è¯‘Hook
import { useSafeTranslations } from '@/hooks/useSafeTranslations';

function MyComponent() {
  const { t } = useSafeTranslations('painTracker.assessment');
  
  return (
    <div>
      <h1>{t('title', {}, 'ç—‡çŠ¶è¯„ä¼°å·¥å…·')}</h1>
      <p>{t('description', {}, 'ä¸“ä¸šçš„ç—‡çŠ¶åˆ†æå·¥å…·')}</p>
    </div>
  );
}

// âŒ é¿å…ï¼šç›´æ¥ç¡¬ç¼–ç 
function BadComponent() {
  return <h1>ç—‡çŠ¶è¯„ä¼°å·¥å…·</h1>;
}
```

### 2. **ç¿»è¯‘é”®å‘½åè§„èŒƒ**
```
é¡µé¢.ç»„ä»¶.åŠŸèƒ½.å…·ä½“å†…å®¹
ä¾‹å¦‚ï¼špainTracker.assessment.result.title
```

### 3. **æä¾›Fallbackå€¼**
```typescript
// æ€»æ˜¯æä¾›fallbackï¼Œé¿å…æ˜¾ç¤ºç¿»è¯‘é”®
const title = t('title', {}, 'é»˜è®¤æ ‡é¢˜');
const message = t('resultMessages.mild', {}, 'ç—‡çŠ¶è¾ƒè½»');
```

## ğŸ”§ å¿«é€Ÿä¿®å¤å·¥å…·

### è¿è¡Œä¿®å¤è„šæœ¬
```bash
# è‡ªåŠ¨ä¿®å¤åŸºæœ¬ç¿»è¯‘é—®é¢˜
npm run migrate:translations

# éªŒè¯ç¿»è¯‘å®Œæ•´æ€§
npm run validate:translations

# ä¸€é”®ä¿®å¤å’ŒéªŒè¯
npm run fix:translations
```

### æ‰‹åŠ¨ä¿®å¤æ­¥éª¤
1. **è¯†åˆ«ç¡¬ç¼–ç æ–‡æœ¬**ï¼šæœç´¢ä»£ç ä¸­çš„ä¸­æ–‡å­—ç¬¦
2. **æ·»åŠ ç¿»è¯‘é”®**ï¼šåœ¨messages/zh.jsonå’Œmessages/en.jsonä¸­æ·»åŠ 
3. **ä½¿ç”¨å®‰å…¨Hook**ï¼šæ›¿æ¢ç¡¬ç¼–ç ä¸ºç¿»è¯‘å‡½æ•°è°ƒç”¨
4. **æµ‹è¯•éªŒè¯**ï¼šç¡®ä¿ä¸¤ç§è¯­è¨€éƒ½æ­£å¸¸æ˜¾ç¤º

## ğŸ“‹ å¼€å‘æ£€æŸ¥æ¸…å•

### ç¼–å†™æ–°ç»„ä»¶æ—¶
- [ ] ä½¿ç”¨`useSafeTranslations`Hook
- [ ] æ‰€æœ‰æ–‡æœ¬éƒ½é€šè¿‡ç¿»è¯‘å‡½æ•°
- [ ] æä¾›åˆç†çš„fallbackå€¼
- [ ] ç¿»è¯‘é”®éµå¾ªå‘½åè§„èŒƒ

### ä»£ç å®¡æŸ¥æ—¶
- [ ] æ²¡æœ‰ç¡¬ç¼–ç ä¸­æ–‡/è‹±æ–‡æ–‡æœ¬
- [ ] ç¿»è¯‘é”®åœ¨ä¸¤ç§è¯­è¨€æ–‡ä»¶ä¸­éƒ½å­˜åœ¨
- [ ] ç¿»è¯‘å†…å®¹å‡†ç¡®ä¸”åˆé€‚
- [ ] æ²¡æœ‰æ˜¾ç¤ºç¿»è¯‘é”®çš„æƒ…å†µ

### å‘å¸ƒå‰
- [ ] è¿è¡Œ`npm run fix:translations`
- [ ] æµ‹è¯•ä¸­è‹±æ–‡ç‰ˆæœ¬
- [ ] æ£€æŸ¥æ§åˆ¶å°æ— ç¿»è¯‘è­¦å‘Š
- [ ] éªŒè¯ç”¨æˆ·ç•Œé¢æ–‡æœ¬æ­£ç¡®

## ğŸš¨ å¸¸è§é—®é¢˜è§£å†³

### é—®é¢˜1ï¼šæ˜¾ç¤ºç¿»è¯‘é”®è€Œä¸æ˜¯æ–‡æœ¬
**ç—‡çŠ¶**ï¼šé¡µé¢æ˜¾ç¤º`painTracker.assessment.title`è€Œä¸æ˜¯"ç—‡çŠ¶è¯„ä¼°å·¥å…·"
**è§£å†³**ï¼š
1. æ£€æŸ¥ç¿»è¯‘æ–‡ä»¶ä¸­æ˜¯å¦å­˜åœ¨è¯¥é”®
2. ç¡®è®¤ç¿»è¯‘Hookçš„namespaceæ­£ç¡®
3. æä¾›fallbackå€¼

### é—®é¢˜2ï¼šè‹±æ–‡ç‰ˆæœ¬ç¼ºå°‘ç¿»è¯‘
**ç—‡çŠ¶**ï¼šä¸­æ–‡ç‰ˆæœ¬æ­£å¸¸ï¼Œè‹±æ–‡ç‰ˆæœ¬æ˜¾ç¤ºä¸­æ–‡æˆ–ç¿»è¯‘é”®
**è§£å†³**ï¼š
1. è¿è¡Œ`npm run migrate:translations`è‡ªåŠ¨æ·»åŠ ç¼ºå¤±é”®
2. æ‰‹åŠ¨ç¿»è¯‘placeholderå†…å®¹

### é—®é¢˜3ï¼šç¡¬ç¼–ç æ–‡æœ¬
**ç—‡çŠ¶**ï¼šä»£ç ä¸­ç›´æ¥å†™å…¥ä¸­æ–‡æ–‡æœ¬
**è§£å†³**ï¼š
1. ä½¿ç”¨ç¿»è¯‘éªŒè¯è„šæœ¬è¯†åˆ«
2. é€ä¸ªæ›¿æ¢ä¸ºç¿»è¯‘å‡½æ•°è°ƒç”¨

## ğŸ› ï¸ å®ç”¨å·¥å…·å‡½æ•°

### ç¿»è¯‘æ•°ç»„
```typescript
import { translateArray } from '@/hooks/useSafeTranslations';

const { t } = useSafeTranslations('painTracker');
const steps = translateArray(
  t,
  ['step1', 'step2', 'step3'],
  ['æ­¥éª¤1', 'æ­¥éª¤2', 'æ­¥éª¤3'] // fallbacks
);
```

### ç¿»è¯‘å¯¹è±¡
```typescript
import { translateObject } from '@/hooks/useSafeTranslations';

const { t } = useSafeTranslations('painTracker');
const labels = translateObject(
  t,
  {
    save: 'actions.save',
    cancel: 'actions.cancel',
    delete: 'actions.delete'
  },
  {
    save: 'ä¿å­˜',
    cancel: 'å–æ¶ˆ',
    delete: 'åˆ é™¤'
  }
);
```

## ğŸ“ˆ é•¿æœŸç»´æŠ¤ç­–ç•¥

### 1. **è‡ªåŠ¨åŒ–æ£€æŸ¥**
- åœ¨CI/CDä¸­é›†æˆç¿»è¯‘éªŒè¯
- å®šæœŸè¿è¡Œç¿»è¯‘å®Œæ•´æ€§æ£€æŸ¥
- ä½¿ç”¨pre-commit hooksé˜²æ­¢ç¡¬ç¼–ç 

### 2. **å›¢é˜Ÿåä½œ**
- å»ºç«‹ç¿»è¯‘å®¡æŸ¥æµç¨‹
- ç»´æŠ¤ç¿»è¯‘æœ¯è¯­è¡¨
- å®šæœŸæ›´æ–°ç¿»è¯‘å†…å®¹

### 3. **æŒç»­æ”¹è¿›**
- æ”¶é›†ç”¨æˆ·åé¦ˆ
- ä¼˜åŒ–ç¿»è¯‘è´¨é‡
- æ‰©å±•æ”¯æŒçš„è¯­è¨€

## ğŸ¯ æˆåŠŸæŒ‡æ ‡

### æŠ€æœ¯æŒ‡æ ‡
- é›¶ç¿»è¯‘é”®æ˜¾ç¤ºé”™è¯¯
- é›¶ç¡¬ç¼–ç æ–‡æœ¬
- 100%ç¿»è¯‘è¦†ç›–ç‡

### ç”¨æˆ·ä½“éªŒæŒ‡æ ‡
- ç•Œé¢æ–‡æœ¬è‡ªç„¶æµç•…
- å¤šè¯­è¨€ä½“éªŒä¸€è‡´
- æ— è¯­è¨€åˆ‡æ¢é—®é¢˜

## ğŸ“š å‚è€ƒèµ„æº

- [Next-intlå®˜æ–¹æ–‡æ¡£](https://next-intl-docs.vercel.app/)
- [Reactå›½é™…åŒ–æœ€ä½³å®è·µ](https://react.dev/learn/scaling-up-with-reducer-and-context)
- [ç¿»è¯‘è´¨é‡è¯„ä¼°æ ‡å‡†](https://www.w3.org/International/questions/qa-i18n)
